<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of create_gmsh_2d_circle</title>
  <meta name="keywords" content="create_gmsh_2d_circle">
  <meta name="description" content="Create a 2D Circular FEM using GMSH">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- ../../menu.html eidors --><!-- # meshing --><!-- menu.html gmsh -->
<h1>create_gmsh_2d_circle
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>Create a 2D Circular FEM using GMSH</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>function mdl= create_gmsh_2d_circle(rad, n_elec) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> Create a 2D Circular FEM using GMSH
 mdl= CREATE_GMSH_2D_CIRCLE(rad, n_elec)

 mdl - EIDORS forward model
 rad - model radius</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
</ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function p=gmfl(p, str,  varargin)</a></li><li><a href="#_sub2" class="code">function p=gmfn(p, str,  varargin)</a></li><li><a href="#_sub3" class="code">function p=assign_p(p);</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function mdl= create_gmsh_2d_circle(rad, n_elec)</a>
0002 <span class="comment">% Create a 2D Circular FEM using GMSH</span>
0003 <span class="comment">% mdl= CREATE_GMSH_2D_CIRCLE(rad, n_elec)</span>
0004 <span class="comment">%</span>
0005 <span class="comment">% mdl - EIDORS forward model</span>
0006 <span class="comment">% rad - model radius</span>
0007 
0008 <span class="comment">% License: GPL version 2 or version 3</span>
0009 <span class="comment">% $Id$</span>
0010 
0011 p=[];
0012 
0013 <span class="comment">% target element size at each point</span>
0014 p=<a href="#_sub1" class="code" title="subfunction p=gmfl(p, str,  varargin)">gmfl</a>(p,<span class="string">'es = 0.009;'</span>);
0015 
0016 theta= linspace(0,2*pi, n_elec+1); theta(end)=[];
0017 <span class="keyword">for</span> th=theta
0018   x=rad*sin(th);
0019   y=rad*cos(th);
0020   z=0;
0021   p=<a href="#_sub2" class="code" title="subfunction p=gmfn(p, str,  varargin)">gmfn</a>(p,<span class="string">'Point(%d) = {%f,%f,%f,es};'</span>, x,y,z);
0022 <span class="keyword">end</span>
0023   
0024 
0025 fclose(p.fid);
0026 
0027 
0028 
0029 
0030 <span class="comment">% print to file - no number</span>
0031 <a name="_sub1" href="#_subfunctions" class="code">function p=gmfl(p, str,  varargin)</a>
0032    p= <a href="#_sub3" class="code" title="subfunction p=assign_p(p);">assign_p</a>(p);
0033    fprintf(p.fid, [str,<span class="string">'\n'</span>], varargin{:}); 
0034 
0035 <span class="comment">% print to file - add number</span>
0036 <a name="_sub2" href="#_subfunctions" class="code">function p=gmfn(p, str,  varargin)</a>
0037    p= <a href="#_sub3" class="code" title="subfunction p=assign_p(p);">assign_p</a>(p);
0038    fprintf(p.fid, [str,<span class="string">'\n'</span>], p.ptno, varargin{:}); 
0039    p.ptno = p.ptno + 1;
0040 
0041 <a name="_sub3" href="#_subfunctions" class="code">function p=assign_p(p);</a>
0042    <span class="keyword">if</span> isempty(p)
0043       <span class="comment">% Unique name to about the second</span>
0044       p.nam = sprintf(<span class="string">'gmshmdl_%06d.geo'</span>, round(rem(now*1e5,1e6)));
0045       p.fid= fopen(p.nam,<span class="string">'wa'</span>);
0046       p.ptno= 0;
0047    <span class="keyword">end</span></pre></div>
<hr><address>Generated on Wed 13-Jul-2011 23:23:10 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>