<!--#include virtual="../nav-sidebar-tut.shtml" -->
<h2> 
GREIT evaluation: Evaluation using simulation data
</h2>

In order to test the performance of GREIT, we create a set
of simulation data. Here we look at the performance for
an object moving radially toward the side from the centre
of the medium.

<H3>Algorithms to test</H3>
 First, run the matlab command
<pre>
&gt;&gt; addpath ../GREIT-algorithm
</pre>
to give matlab access to the algorithms folder.
Use the function 
<p>
In the rest of this example, the function
<a href="../GREIT-algorithm/get_list_of_algs.m"><tt
                           >get_list_of_algs.m</tt></a>
lists the provided algorithms to test.

<pre>
<!--#include virtual="../GREIT-algorithm/get_list_of_algs.m" -->
</pre>

<H3>Prepare simulation data: phantom data</H3>

Using the <a href=" ../netgen/build_single_plane.shtml"
             >netgen signal electrode plane</a> tutorial,
we generate a 62465 element FEM model 
<a href="../../data_contrib/netgen_moving_ball/ng_mdl_16x1_fine.7z"
             >download here</a>

<pre>
<!--#include virtual="simulation_test01.m" -->
</pre>

This function calls the function 
<a href="./simulation_radmove.m"><tt>simulation_radmove.m</tt></a>:
<ul><pre>
<!--#include virtual="simulation_radmove.m" -->
</pre></ul>

The positions of the simulated objects may be seen here:
<pre>
<!--#include virtual="simulation_test02.m" -->
</pre>
<center>
<img src="simulation_test02a.png">
<br>
Figure: Position and size of conductie targets in medium
</center>

<H2>Tests: position, amplitude, resolution, PSF</H2>

These parameters are calculated from an image as illustrated
in the following figure. The key calculation is the
Half Maximum Set (HMS), which contains all pixels above
half the maximum value.
<center>
<img src="reconstruction_parameters.png">
<br>
Calculation of parameters for reconstructed images:
Amplitude, 
Position Error,
Resolution,
Shape Deformation
Ringing
</center>

<H3>Calculate Half-Maximum Set</H3>

The function <a href="calc_hm_set.m"><tt>calc_hm_set.m</tt></a>
calculates the HAS from each image
<pre>
<!--#include virtual="calc_hm_set.m" -->
</pre>


<H3>Reconstruct example images</H3>

First, we reconstruct an image using some of the 
proposed algorithms.

<pre>
<!--#include virtual="simulation_test03.m" -->
</pre>

<center>
<table border="0">
<tr>
   <th> 
   <th> Sheffield <br>Backproj
   <th> NOSER <br>Norm Diff
   <th> NOSER <br>Diff
<tr>
   <th> Image<br>Output
   <td> <img src="simulation_test03_1.png" width="96">
   <td> <img src="simulation_test03_2.png" width="96">
   <td> <img src="simulation_test03_3.png" width="96">
<tr>
   <th> &frac12;Max<br>Set
   <td> <img src="simulation_test03_h1.png" width="96">
   <td> <img src="simulation_test03_h2.png" width="96">
   <td> <img src="simulation_test03_h3.png" width="96">
<tr>
   <th> &frac14;Max<br>Set
   <td> <img src="simulation_test03_q1.png" width="96">
   <td> <img src="simulation_test03_q2.png" width="96">
   <td> <img src="simulation_test03_q3.png" width="96">
</table>
Reconstructed images. The conductivity target location is
shown in green (the target is a circle, but shows as a small
square in this image)
</center>


<H3>Calculate parameters from images</H3>

The parameters listed previously
 are calculated from images using the function
<a href="./GREIT_sim_params.m"><tt
          >GREIT_sim_params.m</tt></a>.
<pre>
<!--#include virtual="GREIT_sim_params.m" -->
</pre>

<H3>Parameters from example images</H3>

In order to display the parameters from the example images,
we calculate:
<pre>
<!--#include virtual="simulation_test04.m" -->
</pre>



</td></tr></table>
<p>
<small>
    Last Modified: $Date$ by $Author$
</small>
</BODY></HTML>
<!--
      -->

