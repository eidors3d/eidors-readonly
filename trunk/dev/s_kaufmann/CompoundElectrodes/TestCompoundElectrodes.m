% Module: TestCompoundElectrodes.m
%
% Test script for compound electrodes
%
% Known issues / Todo: -
%
% Input:    -
%
% Return:   -
%
% Written by Steffen Kaufmann <sk@steffen-kaufmann.com>, mainly based on 
% http://eidors3d.sourceforge.net/tutorial/netgen/netgen_gen_models.shtml
% Demo #17 from Andy Adler
% March 2014

%% Clear Workspace and Command Window, start time measurment & EIDORS
clear;                      % Clear variables
clc;
close all;                  % Close all windows
MyEIDORSStartup;            % Starts EIDORS

%% Parameters
Display.DisplayMeas = 0;
Display.ShowFEM = 0;
Display.SaveFigures = 1;
Display.RAWData = 1;
Display.Show3dSlices = 1;
Display.Voltages.StimulationNumber = 0; % Number between 0 and max electrodes, when 0 its turned off
Display.Sensitivity.StimulationNumber = 0; % Number between 0 and max Measurements, when 0 its turned off

% Measurement Files
% ExportDir = 'C:\Repos\Measurements\13_03_2014_Messungen_32_Elektroden_Compound_Tank\Rekonstruktionen\';
% MeasurementFolder = 'C:\Repos\Measurements\13_03_2014_Messungen_32_Elektroden_Compound_Tank\Messungen\';
% 
% HomogeneousMeasFile = '13_03_2014_Reference';
% InhomogeneousMeasFiles = {'13_03_2014_Single_Circle150x50_E1_110mm',...
% '13_03_2014_Single_Circle150x50_E1_140mm',...
% '13_03_2014_Single_Circle150x50_E1_170mm',...
% '13_03_2014_Single_Circle150x50_E1_210mm',...
% '13_03_2014_Single_Circle150x50_E1_30mm',...
% '13_03_2014_Single_Circle150x50_E1_50mm',...
% '13_03_2014_Single_Circle150x50_E1_80mm',...
% '13_03_2014_Single_Circle20x50_E1_110mm',...
% '13_03_2014_Single_Circle20x50_E1_140mm',...
% '13_03_2014_Single_Circle20x50_E1_170mm',...
% '13_03_2014_Single_Circle20x50_E1_210mm',...
% '13_03_2014_Single_Circle20x50_E1_30mm',...
% '13_03_2014_Single_Circle20x50_E1_50mm',...
% '13_03_2014_Single_Circle20x50_E1_80mm',...
% '13_03_2014_Single_Circle50x50_E1_110mm',...
% '13_03_2014_Single_Circle50x50_E1_140mm',...
% '13_03_2014_Single_Circle50x50_E1_170mm',...
% '13_03_2014_Single_Circle50x50_E1_210mm',...
% '13_03_2014_Single_Circle50x50_E1_30mm',...
% '13_03_2014_Single_Circle50x50_E1_50mm',...
% '13_03_2014_Single_Circle50x50_E1_80mm'};
% 
ExportDir = 'C:\Repos\Measurements\14_03_2014_Messungen_32_Elektroden_Compound_Tank\Rekonstruktionen\';
MeasurementFolder = 'C:\Repos\Measurements\14_03_2014_Messungen_32_Elektroden_Compound_Tank\Messungen\';

HomogeneousMeasFile = '14_03_14_Reference';
InhomogeneousMeasFiles = {'14_03_14_Double_Circle20x50_110mm_Circle15x30_E1_140mm',...
'14_03_14_Double_Circle20x50_140mm_Circle15x30_E1_170mm',...
'14_03_14_Double_Circle20x50_180mm_Circle15x30_E1_210mm',...
'14_03_14_Double_Circle20x50_30mm_Circle15x30_E1_210mm',...
'14_03_14_Double_Circle20x50_30mm_Circle15x30_E1_60mm',...
'14_03_14_Double_Circle20x50_50mm_Circle15x30_E1_170mm',...
'14_03_14_Double_Circle20x50_60mm_Circle15x30_E1_90mm',...
'14_03_14_Double_Circle20x50_80mm_Circle15x30_E1_140mm',...
'14_03_14_Single_Circle15x30_E1_110mm',...
'14_03_14_Single_Circle15x30_E1_140mm',...
'14_03_14_Single_Circle15x30_E1_170mm',...
'14_03_14_Single_Circle15x30_E1_210mm',...
'14_03_14_Single_Circle15x30_E1_30mm',...
'14_03_14_Single_Circle15x30_E1_50mm',...
'14_03_14_Single_Circle15x30_E1_80mm'};

for i=1:length(InhomogeneousMeasFiles)
    close all;
    DoCompoundElectrodeReconstruction(Display, MeasurementFolder, ExportDir, HomogeneousMeasFile, InhomogeneousMeasFiles{i})
end;