<HTML><BODY>
<html>
   <head>
<title>EIDORS-3D</title>
   <style type="text/css">
        body, td, th {
        font-family: Verdana, Helvetica, Arial, sans-serif;
        font-size:80%;
        }
        pre, tt {
        font-family:lucida console, FixedSys, Courier, Terminal, monospaced;
        font-size:100%;
        }
   </style>

</head>

<body link="#800000"
      marginwidth=5 marginheight=5 topmargin=5 leftmargin=5 
      vlink="#400000" >
<table border="0" cellspacing="0" cellpadding="0"><tr><td>
<img alt="Eidors-logo" src="./eidors-logo.jpg">&nbsp;&nbsp; &nbsp;
</td><td>
<h2>
    EIDORS-3D:
    <small><i>Electrical Impedance Tomography and
    Diffuse Optical Tomography Reconstruction Software</i></small>
</h2>
</td></tr></table>
<table border="0"> <tr>
<td valign="top">
<a href="http://www.eidors.org/"
   >EIDORS</a><br>
<a href="index.html"
   >Main</a><br>
<a href="docs.html"
   >Documentation</a><br>
<a href="screenshot.html"
   >Screenshots</a><br>
<a href="http://sourceforge.net/projects/eidors3d/"
   >Download</a><br>
<a href="http://cvs.sourceforge.net/viewcvs.py/eidors3d/"
   >Browse CVS</a><br>
<hr>
<a href="news.html">News</a><br>
<a href="faq.html">FAQ</a><br>
<a href="programming.html">Developer Info</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
</td><td>&nbsp;</td><td valign="top">

<h2>EIDORS-3D: Information for developers</h2>
    <H3>General</H3>
    <br>&minus; We avoid an OO framework because
    1) Matlab's OO framework sucks,
    2) Too much OO is bad for project clarity

    <br>&minus; Instead, we use a structure for each
       important object in the system
       <br>&minus; Each structure will have data elements,
       as well as function "pointers" (the name of a function)
       which will be used. For example, consider
       this code:
<pre>
  my_model.nodes= ... % add data here
  my_model.elems= ... % add data here
  my_model.jacobian= "my_jac_calc_function";
  jj= jacobian( my_model, ...
                conductivites); % calls my_jac_calc_function
</pre>
    <H3>Objects</H3>
    <ul>
      <p><li><b>
        data
      </b><br>
      <ul>
        <b>Properties</b>:
        <li><tt>data.name
        </tt> &nbsp; &nbsp;
        name of data (optional)
        <li><tt>data.meas
        </tt> &nbsp; &nbsp;
        actual measured data
        <br><i>format to be specified</i>
        <li><tt>data.time
        </tt> &nbsp; &nbsp;
        meas start time, seconds since the epoch, 0=unknown
        <li><tt>data.comment
        </tt> &nbsp; &nbsp;
        comments on this measurement
        <li><tt>data.metadata
        </tt> &nbsp; &nbsp;
        metadata object common to all measurements with
        the same configuration
        <br>&minus; number of electrodes and position
        <br>&minus; current and measurment configuration 
        <br>&minus; subject
        <br>&minus; time
        <br>&minus; comments
        <br>&minus; units for data (volts, etc.)
        <p><b>Methods</b>:
      </ul>
      <i>Questions</i>:
      <br>&minus; should there be a common data
      format, or should there rather be converters,
      which use the metadata to reformat the data.

      <p><li><b>
        fwd_model
      </b><br>
      <ul>
        <b>Properties</b>:
        <li><tt>fwd_model.name
        </tt> &nbsp; &nbsp;
        Model name (if known)
        <li><tt>fwd_model.nodes
        </tt> &nbsp; &nbsp;
        position of FEM nodes (<i>Nodes</i>&times;<i>Dims</i>)
        <li><tt>fwd_model.elems
        </tt> &nbsp; &nbsp;
        definition of FEM elements (<i>Elems</i>&times;<i>Dims+1</i>)
        <br>Currently defined only for simplex element shapes
        (i.e. each element had dimentions + 1 nodes)
        <li><tt>fwd_model.boundary
        </tt> &nbsp; &nbsp;
        nodes of element faces on the medium surface
        <li><tt>fwd_model.gnd_node
        </tt> &nbsp; &nbsp;
        Number of node connected to ground
        <li><tt>fwd_model.electrode
        </tt> &nbsp; &nbsp;
        Vector <i>(Num_elecs &times;1)</i>
           of electrode models (<b>elec_model</b>)
        <li><tt>fwd_model.stimulation
        </tt> &nbsp; &nbsp;
        Vector <i>(Stim_pat &times;1)</i> of stimulation
        patterns (<b>stim_model</b>) (current in EIT)
        <li><tt>fwd_model.dimention
        </tt> &nbsp; &nbsp;
        2D, 3D, etc.

        <p><b>Methods</b>:
        <li><tt>fwd_model.solve
        </tt> &nbsp; &nbsp;
        Calculate data object:
        <br>
        <i>usage:</i><tt>
          data = fwd_solve( fwd_model, image )
        </tt>

        <li><tt>fwd_model.jacobian
        </tt> &nbsp; &nbsp;
        <i>usage:</i><tt>
          data = jacobian( fwd_model, image )
        </tt>

        <li><tt>fwd_model.image_prior
        </tt> &nbsp; &nbsp;
        <i>usage:</i><tt>
          data = image_prior( fwd_model, image )
        </tt>

        <li><tt>fwd_model.data_prior
        </tt> &nbsp; &nbsp;
        <i>usage:</i><tt>
          data = data_prior( fwd_model, image )
        </tt>
      </ul>
      <i>Questions</i>:
      <br>&minus; No definition of conductivities in model?
      <br>&minus; We need an approach to cache 'hard to
      calculate' parameters for some of these methods

      <p><li><b>
        elec_model
      </b><br>
      <ul>
        <b>Properties</b>:
        <li><tt>elec_model.name
        </tt> &nbsp; &nbsp;
        Electrode name (optional)

        <li><tt>elec_model.z_contact
        </tt> &nbsp; &nbsp;
        contact impedance (in &Omega;) may be complex

        <li><tt>elec_model.nodes
        </tt> &nbsp; &nbsp;
        nodes to which this electrode is attached

        <p><b>Methods</b>:
      </ul>

      <p><li><b>
        stim_model
      </b><br>
      <ul>
model of a stimulation pattern and accociated measurements
<br>
        <b>Properties</b>:
        <li><tt>stim_model.name
        </tt> &nbsp; &nbsp;
        Stimulation name (optional)

        <li><tt>stim_model.stimulation
        </tt> &nbsp; &nbsp;
        Quantity stimulated (mA) in EIT, light in DOT
        <li><tt>stim_model.stim_pattern
        </tt> &nbsp; &nbsp;
        Quantity of stimulation on each electrode
        <i>(Num_elecs&times;1)</i>
        in units of <tt>.stimulation</tt>
        <br>
        <li><tt>stim_model.meas_pattern
        </tt> &nbsp; &nbsp;
        Measurements pattern for this stimulation
        <i>(Num_meas&times;Num_elecs)</i>.
        This is a sparse matrix of the contribution of
        each electrode to the measurement.
        <p><b>Methods</b>:
      </ul>

      <p><li><b>
        inv_model
      </b><br>
      <ul>
        <i>Note all properties are required for all inv_models</i>
        <br>
        <b>Properties</b>:
        <li><tt>inv_model.name
        </tt> &nbsp; &nbsp;
        Model name (if known)
        <li><tt>inv_model.hyperparameter
        </tt> &nbsp; &nbsp;
        scalar (or array of parameters)
        <li><tt>inv_model.term_tolerance
        </tt> &nbsp; &nbsp;
        termination tolerance (or array of parameters)
        <li><tt>inv_model.iterations
        </tt> &nbsp; &nbsp;
        <li><tt>inv_model.type
        </tt> &nbsp; &nbsp;
        'differential' or 'static'
        <li><tt>inv_model.fwd_model
        </tt> &nbsp; &nbsp;
        pointer to fwd_model

        <p><b>Methods</b>:
        <li><tt>inv_model.solve
        </tt> &nbsp; &nbsp;
        Calculate image object:
        <br>
        <i>usage:</i><tt>
          image = inv_solve( model_static, data )
          <br><i>or</i>
          image = inv_solve( model_diff, data_1, data_2 )
        </tt>
      </ul>
      <i>Questions</i>:
      <br>&minus;

      <p><li><b>
        image
      </b><br>
      <ul>
        <b>Properties</b>:
        <li><tt>image.name
        </tt> &nbsp; &nbsp;
        name of image (optional)
        <li><tt>image.elem_data
        </tt> &nbsp; &nbsp;
        data for each element
        <li><tt>image.type
        </tt> &nbsp; &nbsp;
        real, complex, tensor?
        <li><tt>image.fwd_model
        </tt> &nbsp; &nbsp;
        pointer to fwd_model
        <li><tt>image.inv_model
        </tt> &nbsp; &nbsp;
        pointer to inv_model

        <p><b>Methods</b>:
      </ul>
      <i>Questions</i>:
      <br>&minus;

    </ul>

</BODY></HTML>
<!--
      <p><li><b>
      </b><br>
      <ul>
      </ul>
      <i>Questions</i>:
      <br>&minus;

      -->
